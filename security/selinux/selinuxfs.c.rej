--- security/selinux/selinuxfs.c
+++ security/selinux/selinuxfs.c
@@ -150,7 +150,7 @@
 		goto out;
 
 	/* No partial writes. */
-	length = EINVAL;
+	length = -EINVAL;
 	if (*ppos != 0)
 		goto out;
 
